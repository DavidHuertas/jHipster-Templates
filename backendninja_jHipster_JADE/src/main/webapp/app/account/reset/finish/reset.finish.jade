div
  .row
    .col-md-4.col-md-offset-4
      h1(data-translate='reset.finish.title') Reset password
      .alert.alert-danger(data-translate='reset.finish.messages.keymissing', ng-show='vm.keyMissing')
        strong The password reset key is missing.
      .alert.alert-warning(ng-hide='vm.success || vm.keyMissing')
        p(data-translate='reset.finish.messages.info') Choose a new password
      .alert.alert-danger(ng-show='vm.error')
        p(data-translate='reset.finish.messages.error')
          | Your password couldn't be reset. Remember a password request is only valid for 24 hours.
      .alert.alert-success(ng-show='vm.success')
        p(data-translate='reset.finish.messages.success', translate-compile='')
          strong Your password has been reset.
          |  Please 
          a.alert-link(href='', ng-click='vm.login()') sign in
          | .
      .alert.alert-danger(ng-show='vm.doNotMatch', data-translate='global.messages.error.dontmatch')
        | The password and its confirmation do not match!
      div(ng-hide='vm.keyMissing')
        form(ng-show='!vm.success', name='form', role='form', novalidate='', ng-submit='vm.finishReset()', show-validation='')
          .form-group
            label.control-label(for='password', data-translate='global.form.newpassword') New password
            input#password.form-control(type='password', name='password', placeholder="{{'global.form.newpassword.placeholder' | translate}}", ng-model='vm.resetAccount.password', ng-minlength='4', ng-maxlength='50', required='')
            div(ng-show='form.password.$dirty && form.password.$invalid')
              p.help-block(ng-show='form.password.$error.required', data-translate='global.messages.validate.newpassword.required')
                | Your password is required.
              p.help-block(ng-show='form.password.$error.minlength', data-translate='global.messages.validate.newpassword.minlength')
                | Your password is required to be at least 4 characters.
              p.help-block(ng-show='form.password.$error.maxlength', data-translate='global.messages.validate.newpassword.maxlength')
                | Your password cannot be longer than 50 characters.
            password-strength-bar(password-to-check='vm.resetAccount.password')
          .form-group
            label.control-label(for='confirmPassword', data-translate='global.form.confirmpassword') New password confirmation
            input#confirmPassword.form-control(type='password', name='confirmPassword', placeholder="{{'global.form.confirmpassword.placeholder' | translate}}", ng-model='vm.confirmPassword', ng-minlength='4', ng-maxlength='50', required='')
            div(ng-show='form.confirmPassword.$dirty && form.confirmPassword.$invalid')
              p.help-block(ng-show='form.confirmPassword.$error.required', data-translate='global.messages.validate.confirmpassword.required')
                | Your password confirmation is required.
              p.help-block(ng-show='form.confirmPassword.$error.minlength', data-translate='global.messages.validate.confirmpassword.minlength')
                | Your password confirmation is required to be at least 4 characters.
              p.help-block(ng-show='form.confirmPassword.$error.maxlength', data-translate='global.messages.validate.confirmpassword.maxlength')
                | Your password confirmation cannot be longer than 50 characters.
          button.btn.btn-primary(type='submit', ng-disabled='form.$invalid', data-translate='reset.finish.form.button') Reset Password
